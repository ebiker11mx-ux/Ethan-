<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Google Dino Clone</title>
  <style>
    body { margin:0; background:#f7f7f7; overflow:hidden; }
    canvas { display:block; margin:0 auto; background:#fff; border:2px solid #000; }
  </style>
</head>
<body>
<canvas id="gameCanvas" width="800" height="200"></canvas>
<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

let dino = { x:50, y:150, width:40, height:40, dy:0, gravity:1.2, jumpPower:-15, grounded:true };
let obstacles = [];
let score = 0;
let gameOver = false;

function drawDino() {
  ctx.fillStyle = "#333";
  ctx.fillRect(dino.x, dino.y, dino.width, dino.height);
}

function drawObstacles() {
  ctx.fillStyle = "#555";
  obstacles.forEach(o => ctx.fillRect(o.x, o.y, o.width, o.height));
}

function updateDino() {
  dino.y += dino.dy;
  dino.dy += dino.gravity;
  if (dino.y >= 150) { dino.y = 150; dino.dy = 0; dino.grounded = true; }
}

function spawnObstacle() {
  let size = Math.random() * 20 + 20;
  obstacles.push({ x:800, y:200-size, width:size, height:size });
}

function updateObstacles() {
  obstacles.forEach(o => o.x -= 6);
  obstacles = obstacles.filter(o => o.x + o.width > 0);
}

function checkCollision() {
  obstacles.forEach(o => {
    if (dino.x < o.x + o.width &&
        dino.x + dino.width > o.x &&
        dino.y < o.y + o.height &&
        dino.y + dino.height > o.y) {
      gameOver = true;
    }
  });
}

function drawScore() {
  ctx.fillStyle = "#000";
  ctx.font = "20px Arial";
  ctx.fillText("Score: " + score, 650, 30);
}

function gameLoop() {
  if (gameOver) {
    ctx.fillStyle = "red";
    ctx.font = "40px Arial";
    ctx.fillText("Game Over", 300, 100);
    ctx.font = "20px Arial";
    ctx.fillText("Press Space to Restart", 300, 140);
    return;
  }

  ctx.clearRect(0,0,canvas.width,canvas.height);
  drawDino();
  drawObstacles();
  drawScore();
  updateDino();
  updateObstacles();
  checkCollision();

  score++;
  if (score % 100 === 0) spawnObstacle();

  requestAnimationFrame(gameLoop);
}

document.addEventListener("keydown", e => {
  if (e.code === "Space") {
    if (gameOver) {
      obstacles = [];
      score = 0;
      gameOver = false;
      dino.y = 150; dino.dy = 0;
      gameLoop();
    } else if (dino.grounded) {
      dino.dy = dino.jumpPower;
      dino.grounded = false;
    }
  }
});

gameLoop();
</script>
</body>
</html>
